<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Contact Manager</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link href="css/styles.css" rel="stylesheet">
	<link rel="stylesheet" href="/css/backgroundstyles.css">
	<script type="text/javascript" src="js/main.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">

	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function () {
			readCookie();
		}, false);
	</script>

</head>

<body>
	<div class="mooncontainer">
        <div class="moon">
            <div class="crater crater-1"></div>
            <div class="crater crater-2"></div>
            <div class="crater crater-3"></div>
            <div class="crater crater-4"></div>
            <div class="crater crater-5"></div>
            <div class="shadow"></div>
        </div>
        <div class="orbit">
            <div class="rocket"></div>
        </div>
    </div>
    <div class="starbox">
        <div class="star star-1"></div>
        <div class="star star-2"></div>
        <div class="star star-3"></div>
        <div class="star star-4"></div>
        <div class="star star-5"></div>
        <div class="star star-6"></div>
        <div class="star star-7"></div>
        <div class="star star-8"></div>
        <div class="star star-9"></div>
        <div class="star star-10"></div>
        <div class="star star-11"></div>
        <div class="star star-12"></div>
        <div class="star star-13"></div>
        <div class="star star-14"></div>
        <div class="star star-15"></div>
    </div>

	

	<h1 id="title">Contact Manager</h1>


	<span id="userName"></span>
	<a class="btn" href="#" onclick="doLogout();" style="--clr:#1e9bff"><span>Log Out</span><i></i></a>

	<form class="mb-3">
		<input class="form-control" type="text" id="searchText" placeholder="Contact To Search For" />
	</form>

	<!-- <a class="btn" href="#" onclick="searchContacts();" style="--clr:#1e9bff"><span>Search Contact</span><i></i></a> -->
	<!--after searchText has been unchanged for 1 second, call searchContacts();-->
	<script>
		let typingTimer;
		const doneTypingInterval = 1000; // 1000 milliseconds (1 second)

		const searchText = document.getElementById('searchText');

		searchText.addEventListener('input', function () {
			clearTimeout(typingTimer);
			typingTimer = setTimeout(searchContacts, doneTypingInterval);
		});

		document.addEventListener('DOMContentLoaded', function () {
			searchContacts();
		});
	</script>

	<!-- <div class="popup" id="addContactPopup">
		<input type="text" id="firstName" placeholder="First Name">
		<input type="text" id="lastName" placeholder="Last Name">
		<input type="text" id="email" placeholder="Email">
		<input type="text" id="phone" placeholder="Phone Number">
		<input type="text" id="address" placeholder="Address">
		<input type="text" id="city" placeholder="City">
		<input type="text" id="state" placeholder="State">
		<input type="text" id="zip" placeholder="Zip Code">
		<a class="btn" href="#" onclick="addContact();" style="--clr:#1e9bff"><span>Add Contact</span><i></i></a>
		<span id="contactAddResult"></span>
	</div> -->


	<form class="container table-responsive" id="contactSearchResult">
	</form>
	<p id="contactList"></p>
  
  	<div class="modal fade text-dark" id="modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title text-dark" id="exampleModalLabel">Edit Contact</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form id="editContactPopup">
						<div class="form-group">
							<input type="hidden" id="updateContactId">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updateFirstName" class="text-dark"><strong>First Name:</strong></label>
							<input class="form-control" type="text" id="updateFirstName" placeholder="First Name">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updateLastName" class="text-dark"><strong>Last Name:</strong></label>
							<input class="form-control" type="text" id="updateLastName" placeholder="Last Name">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updateEmail" class="text-dark"><strong>Email:</strong></label>
							<input class="form-control" type="text" id="updateEmail" placeholder="Email">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updatePhone" class="text-dark"><strong>Phone Number:</strong></label>
							<input class="form-control" type="text" id="updatePhone" placeholder="Phone Number">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updateAddress" class="text-dark"><strong>Address:</strong></label>
							<input class="form-control" type="text" id="updateAddress" placeholder="Address">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updateCity" class="text-dark"><strong>City:</strong></label>
							<input class="form-control" type="text" id="updateCity" placeholder="City">
						</div>
					
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="updateState" class="text-dark"><strong>State:</strong></label>
							<input class="form-control" type="text" id="updateState" placeholder="State">
						</div>
					
						<div class="form-group">
							<label for="updateZip" class="text-dark"><strong>Zip Code:</strong></label>
							<input class="form-control" type="text" id="updateZip" placeholder="Zip Code">
						</div>
					
						<span id="contactAddResult"></span>
					</form>					
				</div>
				<div class="modal-footer">
					<button type="button" onclick="updateContact();" class="btn btn-primary">Save changes</button>
					<button type="button" onclick="deleteContact();" class="btn btn-danger">Delete Contact</button>
				</div>
			</div>
		</div>
  	</div>

	<a class="btn" href="#" data-bs-toggle="modal" data-bs-target="#addContactModal" style="--clr:#1e9bff">
		<span>Add Contact</span>
		<i></i>
	</a>
	
	<div class="modal fade text-dark" id="addContactModal" tabindex="-1" aria-labelledby="addContactLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title text-dark" id="addContactLabel">Add Contact</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form id="addContactPopup">
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="firstName" class="text-dark"><strong>First Name:</strong></label>
							<input class="form-control" type="text" id="firstName" placeholder="First Name">
						</div>
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="lastName" class="text-dark"><strong>Last Name:</strong></label>
							<input class="form-control" type="text" id="lastName" placeholder="Last Name">
						</div>
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="email" class="text-dark"><strong>Email:</strong></label>
							<input class="form-control" type="text" id="email" placeholder="Email">
						</div>
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="phone" class="text-dark"><strong>Phone Number:</strong></label>
							<input class="form-control" type="text" id="phone" placeholder="Phone Number">
						</div>
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="address" class="text-dark"><strong>Address:</strong></label>
							<input class="form-control" type="text" id="address" placeholder="Address">
						</div>
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="city" class="text-dark"><strong>City:</strong></label>
							<input class="form-control" type="text" id="city" placeholder="City">
						</div>
						<div class="form-group" style="margin-bottom: 20px;">
							<label for="state" class="text-dark"><strong>State:</strong></label>
							<input class="form-control" type="text" id="state" placeholder="State">
						</div>
						<div class="form-group">
							<label for="zip" class="text-dark"><strong>Zip Code:</strong></label>
							<input class="form-control" type="text" id="zip" placeholder="Zip Code">
						</div>
						<span id="contactAddResult"></span>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" onclick="addContact();" class="btn btn-primary">Add</button>
				</div>
			</div>
		</div>
	</div>
	  

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>

</html>